/**
 * RU-only responsive overrides for WoD20 sheets.
 * Make RU behave like DE by reusing the same layout dimensions.
 *
 * This file assumes the module's JS adds `langRU` class to the sheet root element for RU language.
 *
 * IMPORTANT:
 * - All tunable layout numbers are sourced from CSS custom properties defined in styles/ru-vars.css
 *   so we have a single source of truth.
 *
 * Scope of this patch:
 * - Keep your original geometry rules unchanged.
 * - Add ONLY:
 *   - row height control (Attributes + Abilities)
 *   - label width control (Attributes + Abilities), including supernatural variants
 */

/* ============================================================
 * 0) Base sheet geometry (unchanged)
 * ========================================================== */

.langRU.wod-sheet:not(.minimized) {
  min-width: var(--wodru-sheet-min-width);
  width: var(--wodru-sheet-width, var(--wodru-sheet-min-width));
  min-height: var(--wodru-sheet-min-height);
}

.langRU.wod-sheet .sheet-inner-area {
  width: var(--wodru-inner-width);
}

/* ============================================================
 * 1) Attributes Section
 * ============================================================
 *
 * Row wrapper in markup:
 * - `<div class="attribute-rowheight attributes"> ... </div>`
 *
 * Attribute name label:
 * - uses `.ability-headlineWidth` (system template convention)
 * - may also have `.supernaturalAttribute` for special cases
 */

.langRU.wod20 .attribute-rowheight {
  height: var(--wodru-attr-row-height);
}

.langRU.wod20 .attribute-rowheight .ability-headlineWidth {
  width: var(--wodru-attr-label-width);
}

.langRU.wod20 .attribute-rowheight .supernaturalAttribute.ability-headlineWidth {
  width: var(--wodru-attr-label-width-supernatural);
}

/* ============================================================
 * 2) Abilities Section
 * ============================================================
 *
 * IMPORTANT:
 * - Ability rows in the system markup do NOT use `.ability-rowheight`.
 * - The reliable structure is:
 *   - columns: `.ability-statArea` (each column is ~33%)
 *   - each row inside the column is a `.clearareaBox` wrapper
 *
 * We scope via `.ability-statArea` so we don't affect other `.clearareaBox` blocks.
 */

/* Row height for abilities (targets the actual row wrapper) */
.langRU.wod20 .ability-statArea .clearareaBox {
  height: var(--wodru-ability-row-height);
}

/* Ability name label width (same class name, but scoped to Abilities Section) */
.langRU.wod20 .ability-statArea .clearareaBox .ability-headlineWidth {
  width: var(--wodru-ability-label-width);
}

.langRU.wod20 .ability-statArea .clearareaBox .supernaturalAttribute.ability-headlineWidth {
  width: var(--wodru-ability-label-width-supernatural);
}

/* ============================================================
 * 3) Core Stats Section (Vampire core tab) - RU-only additions
 * ============================================================
 *
 * 3.1) Top offset control:
 * - We add spacing ABOVE the whole Core Stats Section.
 *
 * How we target it:
 * - In vampire-sheet core stats, the section includes a `.clearareaBox` with inline `style="display: flex;"`
 *   which holds the 3 columns (Virtues / Path+WP+BP / Health+XP).
 *
 * Notes:
 * - This selector is intentionally narrow: `.tab.core` + `.sheet-area` + flex clearareaBox.
 * - If later we find another `.clearareaBox[style*="display: flex"]` inside core, we can refine further.
 */
.langRU.wod20 .tab.core .sheet-area > .clearareaBox[style*="display: flex"] {
  margin-top: var(--wodru-corestats-top-offset);
}

/*
 * 3.2) Path/Humanity width constraint (standard max-width + auto margins):
 * - Path headline DOM (you already captured):
 *   `<div class="sheet-headline sheet-banner-small ... vrollable" data-type="Mortal" data-key="path" ...>`
 *
 * We constrain BOTH:
 * - the headline itself (so the decorative banner looks centered)
 * - the container `.sheet-boxcontainer.path` (so dots/track align with the headline)
 *
 * This is RU-only and precise due to `[data-key="path"]` + `.path`.
 */
.langRU.wod20 .sheet-headline.sheet-banner-small[data-key="path"] {
  max-width: var(--wodru-path-max-width);
  margin-left: auto;
  margin-right: auto;
}

.langRU.wod20 .sheet-boxcontainer.path {
  max-width: var(--wodru-path-max-width);
  margin-left: auto;
  margin-right: auto;
}
