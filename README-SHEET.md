
# Карта настроек ru-sheets.css (RU)

Этот файл описывает **каждую настройку и CSS‑переменную**, используемую в `styles/ru-sheets.css`,
и объясняет **за какой визуальный элемент интерфейса WoD20 она отвечает** и **зачем она нужна**.

---

## 1. Общая геометрия окна чаршита

| CSS‑переменная | Где применяется | Что контролирует | Зачем нужна |
|---------------|----------------|------------------|-------------|
| `--wodru-sheet-min-width` | `.langRU.wod-sheet:not(.minimized)` | Минимальная ширина окна чаршита | Предотвращает «схлопывание» листа при длинных русских строках |
| `--wodru-sheet-width` | `.langRU.wod-sheet:not(.minimized)` | Фактическая ширина окна чаршита | Делает RU‑лист визуально сопоставимым с DE |
| `--wodru-sheet-min-height` | `.langRU.wod-sheet:not(.minimized)` | Минимальная высота окна чаршита | Не даёт вертикальной разметке ломаться |

---

## 2. Внутренняя область разметки чаршита

| CSS‑переменная | Где применяется | Что контролирует | Зачем нужна |
|---------------|----------------|------------------|-------------|
| `--wodru-inner-width` | `.sheet-inner-area` | Ширина внутреннего контейнера чаршита | Внутренние колонки не «растягиваются» вместе с окном |

> ⚠️ **Важно:**  
> В WoD20 внутренняя разметка **не следует автоматически** за размером окна.  
> Именно поэтому этот параметр обязателен.

---

## 3. Заголовки способностей и характеристик

### Ability headline (основная колонка названий)

| CSS‑переменная | Где применяется | Что контролирует | Зачем нужна |
|---------------|----------------|------------------|-------------|
| `--wodru-ability-headline-width` | `.ability-headlineWidth` | Ширина колонки с названиями способностей | Русские названия длиннее английских |

Применяется к:
- vampire
- mage
- werewolf
- demon
- hunter
- mortal

---

### Health headline (Changeling)

| CSS‑переменная | Где применяется | Что контролирует | Зачем нужна |
|---------------|----------------|------------------|-------------|
| `--wodru-health-headline-width` | `.changeling .health-headlineWidth` | Заголовок здоровья у Changeling | У них другая сетка |

---

## 4. Item‑листы и drag‑строки

### Ability box (название предмета)

| CSS‑переменная | Где применяется | Что контролирует | Зачем нужна |
|---------------|----------------|------------------|-------------|
| `--wodru-itemlist-abilitybox-width` | combat / power / drag rows | Колонка названия предмета | Длинные русские названия |
| `--wodru-gear-abilitybox-width` | gear-itemlist | Название экипировки | Экипировка особенно длинная |

---

### Value box (значения, уровни, цифры)

| CSS‑переменная | Где применяется | Что контролирует | Зачем нужна |
|---------------|----------------|------------------|-------------|
| `--wodru-itemlist-valuebox-width` | большинство itemlist | Колонка значений | Баланс между текстом и цифрами |

---

### Effect medium box

| CSS‑переменная | Где применяется | Что контролирует | Зачем нужна |
|---------------|----------------|------------------|-------------|
| `--wodru-effect-mediumbox-width` | effect-itemlist | Средняя колонка эффектов | Русские описания эффектов |

---

## 5. Силы, кубы и иконки

| CSS‑переменная | Где применяется | Что контролирует | Зачем нужна |
|---------------|----------------|------------------|-------------|
| `--wodru-power-dicebox-width` | `.power-dicebox` | Блок кубов силы | Предотвращает переносы |
| `--wodru-power-iconbox-width` | `.power-iconbox` | Колонка иконок сил | Сохраняет визуальный ритм |

---

## 6. Диалоги магии и кастинга

| CSS‑переменная | Где применяется | Что контролирует | Зачем нужна |
|---------------|----------------|------------------|-------------|
| `--wodru-aretecasting-dialog-label-width` | Arete dialog | Левая колонка подписей | Русские формулировки длиннее |
| `--wodru-dialog-casting-type-label-width` | casting type | Тип кастинга | Иначе текст ломает сетку |

---

## 7. Combobox / выпадающие строки

| CSS‑переменная | Где применяется | Что контролирует | Зачем нужна |
|---------------|----------------|------------------|-------------|
| `--wodru-combobox-row-width` | `.comboboxRow` | Ширина комбобоксов | Чтобы текст не обрезался |

---

## 8. Архитектурная идея

### Почему именно так
- RU и DE используют **одинаковую геометрию**
- Все числа вынесены в `ru-vars.css`
- `ru-sheets.css` — **только карта применения**
- JS лишь добавляет `langRU`, не трогая HTML

### Что это даёт
- легко подгонять размеры
- легко добавлять новые языки
- не конфликтует с системой
- переживёт Foundry v14–v15

---

## 9. Как расширять дальше

Если появится новая проблема:
1. Сначала ищем **класс в HTML**
2. Проверяем DE‑правила
3. Добавляем **новую CSS‑переменную**
4. Подключаем её здесь

---

## TL;DR
`ru-sheets.css` — это **карта соответствия**
между:
- проблемами русского текста
- конкретными блоками WoD20
- и числовыми параметрами, вынесенными в `ru-vars.css`
